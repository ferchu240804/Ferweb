<!--<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> 

</head>
<body style="height: 200vh;">

    
    <script src="registro.js"></script>

    <script src="compras.js"></script>
    <style>
    </style>
    <!--<script src="prueba de listas.js"></script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro e Inicio de Sesión</title>
  <script src="iniciosesion.prueba.js"></script>
</head>
<body>
  <h1>Registro e Inicio de Sesión</h1>

  <h2>Registrar Usuario</h2>
  <form id="registerForm">
    <label for="username">Usuario:</label>
    <input type="text" id="username" required><br><br>
    <label for="password">Contraseña:</label>
    <input type="password" id="password" required><br><br>
    <button type="submit">Registrar</button>
  </form>

  <h2>Iniciar Sesión</h2>
  <form id="loginForm">
    <label for="loginUsername">Usuario:</label>
    <input type="text" id="loginUsername" required><br><br>
    <label for="loginPassword">Contraseña:</label>
    <input type="password" id="loginPassword" required><br><br>
    <label for="gmail">Correo:</label>
    <input type="text" id="=gmail" required><br><br>
    <button type="submit">Iniciar Sesión</button>
  </form>
  <script>
     // Verifica si hay usuarios guardados en localStorage, si no, crea una lista vacía
 let usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];

// Función para registrar usuarios
document.getElementById('registerForm').addEventListener('submit', function(event) {
  event.preventDefault();

  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;

  // Verificar si el usuario ya existe
  const usuarioExistente = usuarios.find(u => u.username === username);
  if (usuarioExistente) {
    alert('El usuario ya está registrado.');
    return;
  }

  // Agregar el usuario a la lista y guardarlo en localStorage
  usuarios.push({ username, password });
  localStorage.setItem('usuarios', JSON.stringify(usuarios));
  alert('Usuario registrado con éxito.');
});

// Función para iniciar sesión
document.getElementById('loginForm').addEventListener('submit', function(event) {
  event.preventDefault();

  const loginUsername = document.getElementById('loginUsername').value;
  const loginPassword = document.getElementById('loginPassword').value;

  // Verificar si los datos coinciden con un usuario registrado
  const usuarioValido = usuarios.find(u => u.username === loginUsername && u.password === loginPassword);
  if (usuarioValido) {
    alert('Inicio de sesión exitoso. Bienvenido, ' + loginUsername + '!');
  } else {
    alert('Usuario o contraseña incorrectos.');
  }
});
  </script>
</body>
</html>
